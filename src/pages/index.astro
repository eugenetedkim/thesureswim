---
import { sanity } from "../lib/sanity";
import { urlFor } from "../lib/sanityImage";

const query = `*[_type == "siteSettings"][0]{
  logoImage,
  businessName,
  ownerName,
  phone,
  email,
  heroHeadline,
  heroSubheadline
}`;

const s = await sanity.fetch(query);

const bizName = s?.businessName ?? "SureSwim Pool & Spa";
const owner = s?.ownerName ?? "Eugene Kim";
const phone = s?.phone ?? "(909) 668-3521";
const phoneHref = `tel:${phone.replace(/[^\d+]/g, "")}`;
const email = s?.email ?? "info@thesureswim.com";
const logoUrl = s?.logoImage
  ? urlFor(s.logoImage).width(520).quality(90).url()
  : null;

// ðŸ”´ REPLACE WITH YOUR REAL FORMSPREE URL
const FORMSPREE_URL = "https://formspree.io/f/XXXXYYYY";
---

<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>{bizName}</title>

<style>
:root {
  --text: #0f172a;
  --muted: #475569;
  --border: #e2e8f0;
  --accent: #0b5ed7;
  --bg-soft: #f8fafc;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  color: var(--text);
  background: #fff;
  line-height: 1.7;
}

header {
  border-bottom: 1px solid var(--border);
  padding: 14px 0;
}

nav {
  max-width: 1100px;
  margin: auto;
  padding: 0 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

nav img {
  height: 56px;
}

nav a {
  margin-left: 18px;
  font-size: 14px;
  color: var(--muted);
  text-decoration: none;
}

section {
  max-width: 1100px;
  margin: auto;
  padding: 64px 20px;
}

.hero h1 {
  font-size: clamp(42px, 5vw, 64px);
  margin-bottom: 16px;
  letter-spacing: -0.03em;
}

.hero p {
  max-width: 70ch;
  color: var(--muted);
  font-size: 18px;
}

.menu {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 24px;
  margin-top: 32px;
}

.card {
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 22px;
  background: #fff;
}

.card h3 {
  margin-top: 0;
  margin-bottom: 8px;
  font-size: 18px;
}

.card p {
  margin: 0;
  font-size: 15px;
  color: var(--muted);
}

.soft {
  background: var(--bg-soft);
}

a.primary {
  color: var(--accent);
  font-weight: 600;
  text-decoration: none;
}

form input, form textarea {
  width: 100%;
  padding: 10px;
  margin-top: 6px;
  border-radius: 8px;
  border: 1px solid var(--border);
}

form button {
  margin-top: 12px;
  padding: 10px 16px;
  border-radius: 10px;
  border: none;
  background: var(--accent);
  color: white;
  font-weight: 600;
  cursor: pointer;
}

footer {
  border-top: 1px solid var(--border);
  padding: 32px 20px;
  text-align: center;
  font-size: 14px;
  color: var(--muted);
}
</style>
</head>

<body>

<header>
  <nav>
    {logoUrl ? <img src={logoUrl} alt={bizName} /> : <strong>{bizName}</strong>}
    <div>
      <a href="/approach">Approach</a>
      <a href="#contact">Contact</a>
    </div>
  </nav>
</header>

<main>

<!-- HERO -->
<section class="hero">
  <h1>{s?.heroHeadline ?? "More Than Pool Cleaning."}</h1>

  <p>
    {s?.heroSubheadline ??
    "Caretaking one of your homeâ€™s largest systems â€” including what you canâ€™t see â€” so your pool, property, and family environment stay in order."}
  </p>

  <p>
    Your pool will be clean. What makes the difference is everything working quietly behind
    the scenes so it stays that way â€” even when Iâ€™m not there.
  </p>
</section>

<!-- WHY DIFFERENT -->
<section class="soft">
  <h2>Why SureSwim</h2>

  <div class="menu">
    <div class="card">
      <h3>One accountable person</h3>
      <p>The same person services, evaluates, and follows through â€” every visit.</p>
    </div>

    <div class="card">
      <h3>Systems, not shortcuts</h3>
      <p>I manage water, circulation, and equipment together â€” not as isolated tasks.</p>
    </div>

    <div class="card">
      <h3>Behind-the-scenes focus</h3>
      <p>Stability is built between visits, not rushed during them.</p>
    </div>

    <div class="card">
      <h3>Liquid-first chemistry</h3>
      <p>Predictable sanitation with control â€” not chemical creep.</p>
    </div>

    <div class="card">
      <h3>Efficiency-aware</h3>
      <p>Clean water without unnecessary wear, power use, or intervention.</p>
    </div>

    <div class="card">
      <h3>Long-term thinking</h3>
      <p>Pools donâ€™t fail suddenly â€” they drift. I prevent drift.</p>
    </div>
  </div>
</section>

<!-- DEEPER LINK -->
<section>
  <h2>How I think about pool care</h2>

  <p>
    I work on every pool myself and think beyond the visit â€” how the system behaves between
    cleanings, how features interact, and how to reduce manual effort over time.
  </p>

  <p>
    <a class="primary" href="/approach">
      Read more about my approach â†’
    </a>
  </p>
</section>

<!-- CONTACT -->
<section id="contact" class="soft">
  <h2>Contact</h2>

  <p>
    <strong>{owner}</strong><br/>
    {bizName}<br/>
    <a href={phoneHref}>{phone}</a><br/>
    <a href={`mailto:${email}`}>{email}</a>
  </p>

  <p>If calling or texting isnâ€™t convenient, you can leave a message:</p>

  <form action={FORMSPREE_URL} method="POST">
    <input type="text" name="name" placeholder="Name" required>
    <input type="email" name="email" placeholder="Email" required>
    <textarea name="message" rows="5" placeholder="Message" required></textarea>
    <input type="text" name="_gotcha" style="display:none">
    <button type="submit">Send message</button>
  </form>

  <p>
    Licensed business â€¢ Liability insured â€¢ CPO certified
  </p>
</section>

</main>

<footer>
  Â© {new Date().getFullYear()} {bizName} â€” {owner}
</footer>

</body>
</html>
